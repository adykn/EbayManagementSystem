@using EMSc.Models;
@using Microsoft.AspNet.Identity

@{ 
    string x = "?";
    try
    {
        var UserData = ViewBag.User as IEnumerable<EMSc.Models.a_Roles>;
        x = UserData.FirstOrDefault().SiteAccessUser.Name;
    }
    catch {
        x = "?";
    }
}
@if (Session["user"]!=null)
{
    <ul class="nav navbar-nav navbar-right">
        <li>
            @Html.ActionLink("Hello " + x + " !", "SelfProfile", "RestrictedArea", routeValues: null, htmlAttributes: new { title = "Manage" })
        </li>
        <li>@Html.ActionLink("Log off", "Logout", "Auth", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
    </ul>
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li>@Html.ActionLink("Log in", "Login", "Auth", routeValues: null, htmlAttributes: new { id = "loginLink" })</li>
    </ul>
}
